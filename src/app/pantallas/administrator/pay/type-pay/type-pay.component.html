
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  </head>
    <div class="card">
      <div class="card-header">
        <button  class="boton-regresar"><a (click)="goBack()"><i class="fas fa-reply fa-2x"></i></a>
        </button>
          <div class="nombre">{{name}}</div>
      </div>
      <div class="card-body">
        <div class="table-responsive" *ngIf="id_1">
          <table class="table table-striped text-center">
            <thead class="thead">
              <tr>
                <th>Id plan</th>
                <th>Id usuario</th>
                <th>Precio</th>
                <th>Fecha</th>
                <th></th>
              </tr>
            </thead>
            <tbody >
              <tr *ngFor="let pay of pays">
                <td><div class="nombres">{{pay.id_payment_plan}}</div></td>
                <td><div class="nombres">{{pay.id_user}}</div></td>
                <td><div class="nombres">{{pay.price}}</div></td>
                <td><div class="nombres">{{pay.day}}/{{pay.month}}/{{pay.year}}</div></td>
                <td class="text-center">
                  <div>
                    <button class="btn" type="button"><img src="assets/img/editar-solo.png" width="25px"></button>
                  </div>
                </td>
              </tr>
              <div
              infiniteScroll
              [infiniteScrollDistance]="1"
              [infiniteScrollThrottle]="0"
              (scrolled)="onScrollPayments()">

             </div>
            </tbody>
          </table>
         </div >
         <div *ngIf="id_2">
          <form [formGroup]="datos" errorTailor>
            <div class="row row-form">
              <div class="col">
                <ng-autocomplete
                    [data]="dataClub"
                    [searchKeyword]="keyword"
                    (selected)='selectEventClub($event)'
                    [itemTemplate]="itemTemplate"
                    [notFoundTemplate]="notFoundTemplate"
                    placeholder="Seleccionar club">
                </ng-autocomplete>
                <ng-template #itemTemplate let-item>
                  <a [innerHTML]="item.name">
                  </a>

                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <a [innerHTML]="notFound"></a>
                </ng-template>
              </div>

              <select class="form-select col" formControlName="month" required>
                <option>Seleccionar mes</option>
                <option [value]='1'>Enero</option>
                <option [value]='2'>Febrero</option>
                <option [value]='3'>Marzo</option>
                <option [value]='4'>Abril</option>
                <option [value]='5'>Mayo</option>
                <option [value]='6'>Junio</option>
                <option [value]='7'>Julio</option>
                <option [value]='8'>Agosto</option>
                <option [value]='9'>Septiembre</option>
                <option [value]='10'>Octubre</option>
                <option [value]='11'>Noviembre</option>
                <option [value]='12'>Diciembre</option>
              </select>

              <div class="col">
                <ng-autocomplete
                    [data]="years"
                    [searchKeyword]="keyword"
                    (selected)='selectEventYear($event)'
                    [itemTemplate]="itemTemplate"
                    [notFoundTemplate]="notFoundTemplate"
                    placeholder="Seleccionar año">
                </ng-autocomplete>
                <ng-template #itemTemplate let-item>
                  <a [innerHTML]="item.name">
                  </a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <a [innerHTML]="notFound"></a>
                </ng-template>
              </div>
            </div>
            <br>
            <div class="div-boton">
              <button type="btn" class="boton-buscar" (click)="getPaySportman(1)">Buscar información</button>
            </div>
          </form>
<br>
          <div class="table-responsive">
            <table class="table table-striped text-center">
              <thead class="thead">
                <tr>
                  <th>Nombre</th>
                  <th>Estado</th>
                  <th class="col-boton"><button class="boton-eliminar" (click)="openPopup()">Eliminar registro</button></th>
                  <div
                  class="modal"
                  tabindex="-1"
                  role="dialog"
                  [ngStyle]="{'display':displayStyle}">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-body">
                      Estas que deseas eliminar estos registros?
                    </div>
                    <div class="modal-footer modal-footer-yellow">
                      <button class="btn btn-primary" (click)="closePopup()">Cancelar</button>
                      <button class="btn btn-danger" (click)="delete()">Eliminar</button>
                    </div>
                  </div>
                </div>
                </div>
                </tr>
              </thead>
              <tbody >
                <tr *ngFor="let pay of pays">
                  <td><div class="nombres">{{pay.name}}</div></td>
                  <td><div class="nombres">{{pay.ready}}</div></td>
                  <td>

                  </td>
                </tr>
                <div
                infiniteScroll
                [infiniteScrollDistance]="1"
                [infiniteScrollThrottle]="0"
                (scrolled)="onScrollPayments()">

               </div>
              </tbody>
            </table>
           </div>
         </div>

      </div>
      </div>
</html>
